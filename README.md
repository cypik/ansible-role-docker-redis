<!-- This file was automatically generated by the `geine`. Make all changes to `README.yaml` and run `make readme` to rebuild this file. -->


<p align="center"> <img src="https://user-images.githubusercontent.com/50652676/62451340-ba925480-b78b-11e9-99f0-13a8a9cc0afa.png" width="100" height="100"></p>

<h1 align="center">
    Ansible Role Docker Redis
</h1>

<p align="center" style="font-size: 1.2rem;"> 
    This ansible role is used to setup Redis server with docker on linux.
     </p>

<p align="center">






</p>
<p align="center">



</p>
<hr>



We eat, drink, sleep and most importantly love **DevOps**. DevOps always promotes automation and standardisation. While setting up various environments like local, dev, testing, production, etc. it is critical to maintain the same environment across. This can easily be achieved using automating the environment setup & installation with the help of ansible-playbooks. 

Smaller roles are created for each environment elements; which also include tasks & tests. These roles can then be grouped together in [ansible-playbook](https://docs.ansible.com/ansible/latest/user_guide/playbooks_intro.html) to achieve the desired yet consistent results.



## Prerequisites

This module has a few dependencies: 

- [Ansible2.9](https://docs.ansible.com/ansible/latest/installation_guide/intro_installation.html)
- [Python](https://www.python.org/downloads)
- [Docker](https://docs.docker.com/install/linux/docker-ce/ubuntu)




## What Includes

Following things includes in this role:

- redis-cli
- redis-server







## Example Playbook

**IMPORTANT:** Since the `master` branch used in `source` varies based on new modifications, we suggest that you use the release versions [here](https://github.com/Cypik/ansible-role-docker-redis/releases).


```yaml
- hosts: localhost
  remote_user: root
  become: true
  roles:
    - Cypik.ansible_role_docker_redis
```


## Variables

```yaml
  redis_version: "6.2"
  redis_user: redis
  redis_group: redis
  mount_path: /data
  redis_server_opt_dir: "/opt/redis-server"
  redis_server_config_dir: "{{ redis_server_opt_dir }}/config"
  redis_server_log_dir: "/var/log/redis"
  redis_server_data_dir: "{{ mount_path }}/redis-server"
  redis_server_bind: 0.0.0.0
  redis_server_port: 6379
  redis_server_password: false
  redis_server_min_slaves_to_write: 0
  redis_server_min_slaves_max_lag: 10
  redis_server_tcp_backlog: 10000
  redis_server_tcp_keepalive: 20
  redis_server_maxclients: 30000
  redis_server_timeout: 0
  redis_server_slaveof: false
  redis_server_slave_read_only: "yes"
  redis_server_slave_priority: 100
  redis_server_repl_backlog_size: false
  redis_server_dir: /var/lib/redis
  redis_server_logfile: '"/var/log/redis/redis-server.log"'
  redis_server_databases: 16
  redis_server_loglevel: notice
  redis_server_slowlog_log_slower_than: 10000
  redis_server_slowlog_max_len: 128
  redis_server_maxmemory: false
  redis_server_maxmemory_policy: noeviction
  redis_server_rename_commands: []
  redis_server_save:
    - 900 1
    - 300 10
    - 60 10000
  redis_server_stop_writes_on_bgsave_error: "yes"
  redis_server_rdbcompression: "yes"
  redis_server_rdbchecksum: "yes"
  redis_server_appendonly: "no"
  redis_server_appendfilename: "appendonly.aof"
  redis_server_appendfsync: "everysec"
  redis_server_no_appendfsync_on_rewrite: "no"
  redis_server_auto_aof_rewrite_percentage: "100"
  redis_server_auto_aof_rewrite_min_size: "64mb"
  redis_server_notify_keyspace_events: '""'
```


## Installation

```console
  $ ansible-galaxy install Cypik.ansible_role_docker_redis
```

## License
This project is licensed under the MIT License - see the [LICENSE](https://github.com/cypik/ansible-role-docker-redis/blob/master/LICENSE) file for details.


